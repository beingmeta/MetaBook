/* -*- Mode: CSS; -*- */

/* Copyright (C) 2009 beingmeta, inc.
   This file implements a Javascript/DHTML UI for reading
    large structured documents (sBooks).

   For more information on sbooks, visit www.sbooks.net
   For more information on knowlets, visit www.knowlets.net
   For more information about beingmeta, visit www.beingmeta.com

   This library uses the FDJT (www.fdjt.org) toolkit.

   This program comes with absolutely NO WARRANTY, including implied
   warranties of merchantability or fitness for any particular
   purpose.

    Use and redistribution (especially embedding in other
      CC licensed content) is permitted under the terms of the
      Creative Commons "Attribution-NonCommercial" license:

          http://creativecommons.org/licenses/by-nc/3.0/ 

    Other uses may be allowed based on prior agreement with
      beingmeta, inc.  Inquiries can be addressed to:

       licensing@biz.beingmeta.com

   Enjoy!

*/

/* New design for web-based version:

    In normal mode, HUD consists of four icons in the four corners
     of the browser window.  The icons are for nav, search, echoes,
     and ping.  There aren't any next->prev buttons 
    Only one function mode is active at any time.
    Orthogonal to the four function modes (or five, if you count normal),
     there are display modes:
      * minimized (just icons)
      * hover (top strip appears, low opacity)
      * hudup (higher opacity, full height)
    Mouseover the top goes into hover mode (there are keystrokes too)
    Click on the top toggles in and out of hudup mode
    Click on an icon goes into that function mode and into hover,
     double click goes into hudup

    All these attributes are managed in the classes of the HUD.

    Preview mode gets toggled on the body and diminishes the HUD's
     opacity.

    More tweaks, after experimentation:
     SBOOECHOES is a top level element, as is SBOOKSOCIAL (the user bar)
     sbookSetEchoes does selective display on echoes
     SBOOKSOCIAL consists of a row of users with an "everyone"
      button on the left and a ping/remark button on the right.
      Clicking on a user/tribe brings up the echoes element and limits
       it to that user/tribe.
     In TOC mode, the space of users are people who have said things
      below the current article.
     In SEARCH mode, the space of users are people involved in the
      current search results

*/

/* Highlight rules */

.sbookhead { text-decoration: underline;}
.sbookfocus { text-decoration: underline;}
body.sbookhead { text-decoration: none;}
p.sbookfocus { opacity: 0.9;}

p.sbookclickfocus { text-decoration: underline;}

/* Display/opacity rules */

div#SBOOKHUD div.hud:hover { opacity: 0.6;}
div#SBOOKHUD div.hud {
  position: fixed; 
  top: 0px; left: 0px; right: 0px; width: 100%; z-index: 140;
  max-height: 50px; min-height: 50px;
  margin: 0px; padding: 0px;
  background-color: gray;
  overflow: hidden; text-align: center; 
  font-family: sans,sans-serif; font-size: 150%;
  display: none;}
/* div#SBOOKHUD a { color: lightblue;} */
div#SBOOKHUD img.button { opacity: 0.5; z-index: 200;}
/* For scrollable results */
div#SBOOKHUD div.results {
  position: fixed; top: 50px;
  left: 10%; right: 10%; width: 80%; 
  background-color: gray; opacity: 0.05; z-index: 250;
  overflow: auto; max-height: 75%;
  margin: 0px; padding: 6px; padding-top: 0px;
  display: none;}
div#SBOOKHUD div.echoes {
  position: fixed; bottom: 0px; margin-top: 50px;
  background-color: gray; opacity: 0.05; z-index: 250;
  left: 10%;; right: 10%; width: 80%;
  overflow: auto; margin: 0px; padding: 6px;
  padding-bottom: 50px;
  -khtml-border-top-left-radius: 6px; 
  -webkit-border-top-left-radius: 6px; 
  -moz-border-radius-topleft: 6px; 
  border-top-left-radius: 6px; 
  -khtml-border-top-right-radius: 6px; 
  -webkit-border-top-right-radius: 6px; 
  -moz-border-radius-topright: 6px; 
  border-top-right-radius: 6px; 
  display: none;}
body.hudup div#SBOOKHUD div.echoes {
  opacity: 0.85;}

body.hudechoes div.echoes { }
body.hudechoes div#SBOOKHUD div.echoes { 
  display: block; opacity: 0.95;}
body.hudechoes.preview div#SBOOKHUD 
  div.echoes { display: block; opacity: 0.10;}
body.hudup div#SBOOKHUD.searchresults div.results { 
  display: block; opacity: 0.95;}
body.hudup div#SBOOKHUD.search div.hud { display: block; opacity: 0.95;}
body.hudup div#SBOOKHUD.searchresults div.hud { 
  display: block; opacity: 0.95;}
body.hudresults.preview div#SBOOKHUD
  div.results { display: block; opacity: 0.10;}
body.hudresults.preview div#SBOOKHUD
  div.hud { display: block; opacity: 0.10;}

div#SBOOKHUD div.hud { opacity: 0.05; }
div#SBOOKHUD div.hud:hover { opacity: 0.85; }
body.hudup div#SBOOKHUD div.hud { opacity: 0.95; max-height: inherit;}
body.hudup div#SBOOKHUD div.results { opacity: 1.0;}

body.hudup.preview div#SBOOKHUD div.hud { opacity: 0.1; max-height: inherit;}
body.hudup.preview div#SBOOKHUD div.results { opacity: 0.1; }
body.hudup.preview div#SBOOKHUD div.echoes { opacity: 0.1; }

div#SBOOKHUD #SBOOKTOC {display: none;}
div#SBOOKHUD .sbooksearch {display: none;}
div#SBOOKHUD .sbookechoes {display: none;}
div#SBOOKHUD .sbookping {display: none;}

body div#SBOOKHUD.toc #SBOOKTOC {display: block; }
body div#SBOOKHUD.search .sbooksearch {display: block; }
body div#SBOOKHUD.echoes .echoes {display: block; }
body div#SBOOKHUD.ping .sbookping {display: block; }

div#SBOOKHUD img#SBOOKTOCBUTTON.button {
  position: fixed; left: 0px; top: 0px;}
div#SBOOKHUD img#SBOOKSEARCHBUTTON.button {
  position: fixed; right: 0px; top: 0px;}
div#SBOOKHUD img#SBOOKECHOESBUTTON.button {
  position: fixed; left: 0px; bottom: 0px;}
div#SBOOKHUD img#SBOOKPINGBUTTON.button {
  position: fixed; right: 0px; bottom: 0px;}

div#SBOOKSOCIAL {
  position: fixed; bottom: 0px; left: 15%; right: 15%;
  -khtml-border-top-left-radius: 6px; 
  -webkit-border-top-left-radius: 6px; 
  -moz-border-radius-topleft: 6px; 
  border-top-left-radius: 6px; 
  -khtml-border-top-right-radius: 6px; 
  -webkit-border-top-right-radius: 6px; 
  -moz-border-radius-topright: 6px; 
  border-top-right-radius: 6px; 
  background-color: gray;}

div.echoes div.echo { display: none;}
div.echoes div.echo[displayed='yes'] { display: block;}
div.echoes.focused div.echo[displayed='yes'] { display: none;}
div.echoes.focused div.echo[displayed='yes'][focus='yes'] { display: block;}

div.echo div.head span.icons img { float: none; padding-left: 5px;}
div.echo div.head span.icons .age { color: orange;}

div.socialbar { 
  height: 40px;
  padding-right: 40px; padding-left: 40px; 
  overflow-x: auto; overflow-y: hidden;} 
div.socialbar img { cursor: pointer;}
/* This forces the browser to scale the image, which isn't ideal */
div.socialbar img.social { display: none; width: 32px; height: 32px;} 
div.socialbar img.social[displayed='yes']  {display: inline;}
div.socialbar img.everyone {
  position: absolute; left: 0px;}
div.socialbar img.ping {position: absolute; right: 0px;}

div#SBOOKHUD div.socialbar { opacity: 0.05; z-index: 150;}
div#SBOOKHUD div.socialbar.filled { opacity: 0.50; z-index: 150;}
div#SBOOKHUD div.socialbar:hover { opacity: 0.85; }
body.hudup div#SBOOKHUD div.socialbar { opacity: 0.85; }
body div#SBOOKHUD.search div.socialbar:hover { opacity: 0.85;}
body div#SBOOKHUD.toc div.socialbar:hover { opacity: 0.85;}
body div#SBOOKHUD.searchresults div.socialbar { opacity: 0.05;}
body.hudechoes div#SBOOKHUD div.socialbar { opacity: 0.85;}

/* Individual sub content */

div.sbookhud {}
div.sbookhud div.content {
  width: 100%; padding-left: 15%; padding-right: 15%;}

div#SBOOKHUD div#SOCIALHUD {
  position: fixed; bottom: 0px;
  margin-left: 10%; margin-right: 10%;}

/* TOC classes */

div.sbooktoc div.supersections { display: none;}
div.sbooktoc div.subsections { display: none;}

body.hudup div.sbooktoc div.supersections { display: block;}
body.hudup div.sbooktoc div.subsections { display: block;}

div.sbooktoc a { 
  text-decoration: none; color: blue;}
div.sbooktoc div.sbookhudsect {
  width: 100%; text-align: center; clear: both; }
div.sbooktoc div.sbookhudsect div.sectname {
  clear: both; } /* display: block;  */
div.sbooktoc div.supersection div.sectname {
  clear: both; } /* display: block; */
div.sbooktoc a:visited { color: blue; }
div.sbooktoc div.subsections a {color: blue;}

div.sbooktoc div.supersections a { font-size: 85%; }

div.sbooktoc div.subsections { 
  clear: both; font-size: 80%; margin-left: 15%; margin-right: 15%;}
div.sbooktoc div.subsections div.spanbar {
  width: 100%; clear: both;}
div.sbooktoc div.subsections div.sectlist {
  clear: both;}
div.sbooktoc div.subsections a {
    /* white-space: nowrap;  */
    display: inline; width: inherit; font-size: 50%;
    clear: none;}
div.sbooktoc div.subsections a.cohighlight {
    color: yellow;}

div.sbooktoc div.spanbar {
  position: relative;
  text-align: center; clear: both;
  opacity: 0.5; margin: 0px; padding: 0px; border: 0px;
  background-color: transparent; height: 5px; font-size: 1px;}
div.sbooktoc div.spanbar div.spans { 
  position: relative;
  margin: 0px; padding: 0px; border: 0px;}
div.sbooktoc div.spanbar div.sbookhudspan {
  background-color: blue; clear: none; float: left;
  margin: 0px; padding: 0px; border: 0px;
  border-top: solid blue 2px; border-bottom: solid blue 2px;
  height: 12px; }
div.sbooktoc div.spanbar div.sbookhudspan[odd] {
  background-color: silver;
  border-top: solid silver 2px; border-bottom: solid silver 2px;}
div.sbooktoc div.spanbar div.sbookhudspan:hover { 
  border-top: dotted orange 2px; border-bottom: dotted orange 2px; }
div.sbooktoc div.spanbar div.sbookhudspan.cohighlight { 
  background-color: yellow; border-color: yellow;}

div.sbooktoc div.echoes { 
  margin-left: 10%; margin-right: 10%;
  border-top: purple solid 3px;}
div.sbooktoc div.echoes div.echo { 
  padding-right: 5%; padding-left: 5%;}
div.sbooktoc div.echoes.showall div.echo { display: block;}

div#SBOOKHUD div#SOCIALTOC { 
  position: fixed; bottom: 0px; left: 10%; right: 10%;
  padding: 0px; margin: 0px; text-align: center;
  background-color: gray;
  overflow-y: hidden; overflow-x: auto; max-height: 60px;
  opacity: 0.05; display: none;}

div#SBOOKHUD.toc div#SOCIALTOC { display: block;}
body.hudup div#SBOOKHUD div#SOCIALTOC { opacity: 0.95;}

div#SBOOKHEAD0 div.spanbar { width: 33%; margin-left: 33%; margin-right: 33%;}
div#SBOOKHEAD1 div.spanbar { width: 33%; margin-left: 33%; margin-right: 33%;}
div#SBOOKHEAD2 div.spanbar { width: 50%; margin-left: 25%; margin-right: 25%;}
div#SBOOKHEAD3 div.spanbar { 
  width: 75%; margin-left: 12.5%; margin-right: 12.5%;}

div.sbooktoc div.spanbar div.spans { width: 100%;}

div.sbooktoc div.spanbar div.progressbox { 
  width: 3px; height: 16px; background-color: red;
  position: absolute; z-index: 200; 
  margin: 0px; padding: 0px;}

/* Search rules */

body.hudup div#SBOOKHUD.searchresults
  div.sbooksearch div.controls div.completions { display: none;}
body.hudup div#SBOOKHUD.searchresults
  div.sbooksearch div.controls div.completions.open { display: none;}
div.sbooksearch div.controls div.completions {
   max-height: 300px; width: 99%;}
/*
div.sbooksearch div.controls div.completions .completion {
   margin: 0px; padding: 0px;}
*/

/* Search classes */

div#SBOOKHUD div.sbooksearch div.completions { display: none;}
div#SBOOKHUD div.sbooksearch div.completions.open { display: none;}
body.hudup div#SBOOKHUD div.sbooksearch div.completions { display: block;}
body.hudup div#SBOOKHUD div.sbooksearch div.completions.open { display: block;}
body.hudup div#SBOOKHUD div.sbooksearch.results
   div.completions { display: block;}
body.hudup div#SBOOKHUD div.sbooksearch.results
   div.completions.open { display: block;}

div.sbooksearch div.controls { 
  margin-left: 25%; margin-right: 25%; width: 50%; min-height: 50px;}
div.sbooksearch div.controls input[type="TEXT"] { 
  font-size: 16px; font-family: sans,sans-serif; 
  width: 100%; background-color: ivory;}
div.sbooksearch div.controls div.messages { 
  color: black; background-color: white;
  font-family: sans,sans-serif; }
div.sbooksearch div.controls div.messages span.count { 
  font-weight: bold;}
div.sbooksearch div.controls div.completions { 
  text-align: left;
  font-size: 12px; font-family: sans,sans-serif; 
  padding-top: 5px; overflow: auto;}
div.sbooksearch div.controls div.completions span.counts { 
  float: right; color: red; font-weight: bold;
  background-color: black;
  padding: 3px; padding-top: 0px; padding-bottom: 0px;
  -khtml-border-radius: 3px; 
  -webkit-border-radius: 3px; 
  -moz-border-radius: 3px;
  border-radius: 3px;}
div.sbooksearch div.cues {}
div.sbooksearch div.query {}
div.sbooksearch div.results {min-height: 2ex;}

body[mode~="results"] div.sbooksearch div.controls div.messages { 
  display: none;}

div.sbooksearch span.completion.sectname {
  font-weight: bold; font-style: italic; 
  background-color: ivory; color: purple;
  padding: 3px; margin: 0px; margin-left: 3px; margin-right: 3px; 
  -khtml-border-radius: 6px; 
  -webkit-border-radius: 6px; 
  -moz-border-radius: 6px; 
  border-radius: 6px;}
div.sbooksearch span.dterm { 
  background-color: yellow; color: black;
  padding: 2px; padding-left: 5px;  margin: 0px;
  padding-right: 3px; margin-right: 3px;
  -khtml-border-top-left-radius: 6px; 
  -webkit-border-top-left-radius: 6px; 
  -moz-border-radius-topleft: 6px; 
  border-top-left-radius: 6px; 
  -khtml-border-bottom-left-radius: 6px; 
  -webkit-border-bottom-left-radius: 6px; 
  -moz-border-radius-bottomleft: 6px;
  border-bottom-left-radius: 6px;}
div.sbooksearch span.dterm span.bigpunct {
  font-size: 200%; font-weight: bold; line-height: 50%;}
div.sbooksearch div.completions.showall span.dterm {display: inline;}
div.sbooksearch div.completions.showall span.dterm.singleton {display: none;}
div.sbooksearch span.dterm span.disambig {color: red;}
div.sbooksearch div.completions { line-height: 200%;}
div.sbooksearch div.completions .completion.prime { 
  font-size: 200%; font-weight: bold;}
div.sbooksearch div.completions .completion .variation { 
  font-size: 115%; color: white;}
div.sbooksearch div.completions .completion .dterm { 
  font-size: 95%;}

div.sbooksearch div.results {
  border-top: solid orange 3px;}
div.sbooksearch div.results div.count {
  text-align: right; color: orange; font-weight: bold;
  padding-top: 3px; }
div.sbooksearch div.results a.searchresult { 
  display: block; white-space: normal; clear: both;
  text-decoration: none;  font-size: 75%;
  margin-top: 4px; margin-bottom: 4px;
  margin-left: 10%; margin-right: 10%;
  border-bottom: dotted orange 1px; padding-bottom: 3px;
  color: black; text-align: left;}
div.sbooksearch div.results a.searchresult .info { 
  float: right;}
div.sbooksearch div.results a.searchresult .info img.eye { 
  font-weight: bold; color: blue; border: none;}
div.sbooksearch div.results a.searchresult .info span.score {
  color: gold;}
div.sbooksearch div.results a.searchresult span.dterm {
    font-size: 75%;}
div.sbooksearch div.results a.searchresult span.head {
    font-size: 75%;}
div.sbooksearch div.results a.searchresult span.headhead {
    color: blue; font-weight: bold;}
div.sbooksearch div.results a.searchresult span.controller {
    font-weight: bold; color: white;}

/* Echoes stuff */

div#SBOOKHUD div.sbookechoes { }
div#SBOOKHUD div.sbookechoes div.echoes { 
  margin-top: 50px; margin-left: 15%; margin-right: 15%; width: 70%;}

div.sbookechoes div.topbar {
   width: 60%; margin-left: 20%; margin-right: 20%;}
div.sbookechoes div.topbar img { width: 32px; height: 32px;}

div.sbookechoes {
  width: 75%; margin-left: 12.5%; margin-right: 12.5%;
  text-align: left;}
div.sbookechoes div.topbar { width: 100%;}
div.sbookechoes div.topbar div.imagebar img[displayed='yes'] { display: inline;}
div.sbookechoes div.topbar div.imagebar img[displayed='no'] { display: none;}
div.sbookechoes img.addbutton { float: left;}
div.sbookechoes div.imagebar { margin-left: 50px; overflow-x: auto;}
div.sbookechoes div.echoes { overflow-y: auto;}
div.sbookechoes div.echoes div.echo {
   clear: both; width: 100%;}
div.sbookechoes div.echoes div.echo div.userblock { 
  float: left; width: 50px;}
div.sbookechoes div.echoes div.echo div.echoinfo {
  margin-left: 50px;}
div.sbookechoes div.echoes div.echo div.echoinfo div.msg {
  }
div.sbookechoes div.echoes div.echo div.echoinfo div.excerpt {
  }

/* Podspot iframes */

a.podspoticon {
  position: absolute; right: 5px; text-align: right;}
.sbookfocus a.podspoticon {
  background-color: yellow;}
a.podspoticon img { border: 0px;}

img.ping.button#ROVER {
  position: absolute; right: 0px;}

iframe.podspot {
    position: absolute; right: 64px; width: 80%; z-index 100; 
    opacity: .90; background-color: ivory; 
    max-height: 500px;}

/* Still unclassified */

.previewing { color: red; }
p.previewing { color: red; }
div.previewing { color: red; }

div.sectionname { clear: both;}

/* SBOOK formatting */

body[hudup] iframe div.commentors { display: none;}
body iframe div.commentors { display: block;}

/* Emacs local variables
;;;  Local variables: ***
;;;  compile-command: "cd ..; make" ***
;;;  End: ***
*/
