/* -*- Mode: CSS; character-encoding: utf-8; -*- */

/* Copyright (C) 2009-2015 beingmeta, inc.
   This file implements a Javascript/DHTML web application for reading
    large structured documents (sBooks).

   For more information on sbooks, visit www.sbooks.net
   For more information on knodules, visit www.knodules.net
   For more information about beingmeta, visit www.beingmeta.com

   This library uses the FDJT (www.fdjt.org) toolkit.

   This program comes with absolutely NO WARRANTY, including implied
   warranties of merchantability or fitness for any particular
   purpose.

    Use and redistribution (especially embedding in other
      CC licensed content) is permitted under the terms of the
      Creative Commons "Attribution-NonCommercial" license:

          http://creativecommons.org/licenses/by-nc/3.0/ 

    Other uses may be allowed based on prior agreement with
      beingmeta, inc.  Inquiries can be addressed to:

       licensing@biz.beingmeta.com

   Enjoy!

*/

@charset "UTF-8";

/* Style variants */

#METABOOKBODY {text-align: left;}

/* This is typically a placeholder for the actual content of the book
   used as the source for layout. */
#METABOOKBODY #CODEXCONTENT {
    margin-left: 3em; margin-right: 3em;}

#CODEXPAGE { max-width: 40em;}
#CODEXPAGE {
    box-sizing: border-box; -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;}

#METABOOKBODY {
    font-size: 2em;}
#METABOOKBODY.metabookbodysizexlarge {
    font-size: 4em;}
#METABOOKBODY.metabookbodysizelarge {
    font-size: 3em;}
#METABOOKBODY.metabookbodysizenormal {
    font-size: 2em;}
#METABOOKBODY.metabookbodysizesmall {
    font-size: 1.25em;}
#METABOOKBODY.metabookbodysizetiny {
    font-size: 0.8em;}
.metabookbody.metabooklinespacingsingle {
    line-height: 100%;}
.metabookbody.metabooklinespacingdouble {
    line-height: 200%;}
.metabookbody.metabooklinespacingnormal {}
.metabookbody.metabooklinespacingonefive {
    line-height: 150%;}

.metabookbody.metabookjustify p, .metabookbody.metabookjustify li {
    text-align: justify;}

#METABOOKBODY h1, #METABOOKBODY h2, #METABOOKBODY h3, #METABOOKBODY h4 {
    page-break-after: avoid;}

body._MOUSE #METABOOKBODY a[href]:hover,
#METABOOKBODY a[href]:active {
    color: blue; }

#METABOOKBODY {
    background-color: #ffffff; color: #111; }
#METABOOKBODY.metabookcontrasthigh { color: #111; }
#METABOOKBODY.metabookcontrastmedium { color: #444; }
#METABOOKBODY.metabookcontrastlow {
    background-color: #e5e0d4; color: #333; }

p { line-height: 1.2;}
#METABOOKPAGES .codexpage.metabookcoversize p { line-height: 1.05;}

.metabookbody .titlepage, .metabookbody .sbooktitlepage,
#METABOOKTITLEPAGE.sbooktitlepage {
    text-align: center;}

.codexpage .sbookcover, .codexpage .sbookcoverpage,
.codexpage .sbooktitlepage, .codexpage .sbookfullpage {
   page-break-before: always; page-break-after: always;
   page-break-inside: never;
   box-sizing: border-box; -webkit-box-sizing: border-box;
   -moz-box-sizing: border-box; -o-box-sizing: border-box;
   height: 100%; width: 100%;
   text-align: center;}
.codexpage.codexworkpage .sbookcover,
.codexpage.codexworkpage .sbookcoverpage,
.codexpage.codexworkpage .sbooktitlepage,
.codexpage.codexworkpage .sbookfullpage {
    height: inherit; width: inherit;}

/* Titlepage rules */

.sbooktitlepage {
  padding: 1em; margin: 0px;
  font-family: helvetica,sans,sans-serif;
  text-align: center;
  page-break-inside: avoid;
  page-break-before: always;
  page-break-after: always;
  overflow: hidden;}
.sbooktitlepage > * {
  page-break-inside: avoid;}
.sbooktitlepage > div { line-height: 1.0;}

.sbooktitlepage > h1, .sbooktitlepage > .fdjtadjustfont > h1 {
    font-size: 2em;}
.sbooktitlepage > h2, .sbooktitlepage > .fdjtadjustfont > h2 {
    font-size: 1.2em;}

.sbooktitlepage .title h1, .sbooktitlepage .credits h1,
.sbooktitlepage .title h2, .sbooktitlepage .credits h2,
.sbooktitlepage .title h3, .sbooktitlepage .credits h3 {
    margin-top: 0px; margin-bottom: 0.5ex;}
.sbooktitlepage .credits .lifespan {
    white-space: nowrap; font-size: 0.9em;}

.sbooktitlepage > p, .sbooktitlepage > blockquote > p {
    width: 30em; max-width: 70%; font-size: 125%;
    margin-left: auto; margin-right: auto;
    clear: both;}

.sbooktitlepage > img {
    display: block; clear: both;
    margin-left: auto; margin-right: auto;
    margin-top: 1em; margin-bottom: 1em;}
.sbooktitlepage .title, .sbooktitlepage .credits,
.sbooktitlepage .author, .sbooktitlepage .byline,
.sbooktitlepage .editor {
    margin-top: 0px; margin-bottom: 1em;
    display: block; clear: both;}
.sbooktitlepage .credits .author, .sbooktitlepage .credits .byline,
.sbooktitlepage .credits .editor, .sbooktitlepage .credits .contributor {
    margin-bottom: initial;}
.sbooktitlepage .credits .contributor { font-size: 0.8em;}
.sbooktitlepage .credits .name { white-space: nowrap;}

.sbooktitlepage .connector {
    font-size: 50%; margin-top: 1ex; margin-bottom: 1ex;}

.sbooktitlepage .title {
    font-size: 2em; font-weight: bold;
    margin-bottom: 1.5em;}
.sbooktitlepage .title .subtitle,
.sbooktitlepage .title .translation,
.sbooktitlepage .title .originaltitle {
    font-size: 50%; font-weight: normal;
    margin-top: 1ex; margin-bottom: 0px;}

.sbooktitlepage .credits, .sbooktitlepage .author, .sbooktitlepage .byline {
    font-size: 1.5em; font-style: italic;
    margin-top: 1em; margin-bottom: 1.5em; }

.sbooktitlepage .sbookbibinfo, .sbooktitlepage .bibinfo,
.sbooktitlepage .pubinfo { 
    text-align: left; display: inline-block; font-size: 0.8em;
    min-width: 70%; max-width: 60em;
    padding: 1ex; padding-bottom: 0px; margin-bottom: 0px;
    margin-left: auto; margin-right: auto;
    page-break-inside: avoid;
    clear: both;}

.sbooktitlepage .publisher { 
    font-size: 1em; text-align: center;
    margin-top: 0.5em; margin-bottom: 0px; }

.sbooktitlepage .sbookbibinfo p, .sbooktitlepage .bibinfo p,
.sbooktitlepage .pubinfo p {
    margin-right: 2em; margin-left: 3em; text-indent: -2em;
    text-align: left; margin-bottom: 0px; margin-top: 0px;}

.sbooktitlepage .sbookbibinfo span.bibdate,
.sbooktitlepage .pubinfo span.bibdate,
.sbooktitlepage .bibinfo span.bibdate {
    float: right; padding-left: 2em;
    color: crimson;}

.sbooktitlepage .dedication, .sbooktitlepage .epigraph { 
    text-align: left;
    font-style: normal; font-weight: normal;
    margin-left: auto; margin-right: auto;
    page-break-inside: avoid;
    margin-top: 1em; margin-bottom: 1ex;
    margin-left: auto; margin-right: auto;
    max-width: 70%;}
.sbooktitlepage .dedication p, .sbooktitlepage .epigraph p {
    margin: 0px; padding: 0px;}
.sbooktitlepage .dedication.leftalign p,
.sbooktitlepage .epigraph.leftalign p {
    margin-left: 5em; text-indent: -5em;}

.sbooktitlepage .dedication, .sbooktitlepage .epigraph { 
    text-align: left; font-size: 1em;
    font-style: normal; font-weight: normal;
    margin-left: auto; margin-right: auto;
    page-break-inside: avoid;
    margin-top: 1em;
    max-width: 70%;}

.codexbibpage { text-align: left;}

/* Hide these body elements which are moved to the metaBook cover */
#METABOOKBODY #SBOOKABOUTBOOK, #METABOOKBODY #SBOOKABOUTORIGIN,
#METABOOKBODY #SBOOKABOUTAUTHOR, #METABOOKBODY #SBOOKABOUTPUBLISHER {
    display: none;}

/* Image/float placement rules */

p .floatright, p .floatleft { max-width: 30%; }
p .floatright img, p .floatleft img, p img.floatright, p img.floatleft {
    max-width: 100%; height: auto; }
p .floatright img, p img.floatright {
    margin-left: 1ex; margin-bottom: 0.5ex;}
p .floatleft img, p img.floatleft {
    margin-right: 1ex; margin-bottom: 0.5ex;}

.sbookcoverimage {
   max-width: 100%; max-height: 100%;
   display: block; margin-left: auto; margin-right: auto;}

div.codexpage img {
    max-height: 90% !important; max-width: 90% !important;
    width: auto; height: auto;}

/* Add some layout override rules */
body #METABOOKBODY #CODEXPAGE .codexpage p.codexdupend,
body #METABOOKBODY #CODEXPAGE .codexpage p.codexdup {
    text-indent: 0px;}
body #METABOOKBODY #CODEXPAGE .codexpage .codexdupstart {
    padding-bottom: 0px;
    border-bottom-width: 0px;
    margin-bottom: 0px;}
body #METABOOKBODY #CODEXPAGE .codexpage .codexdupend {
    padding-top: 0px;
    border-top-width: 0px;
    margin-top: 0px;}
body #METABOOKBODY #CODEXPAGE .codexpage .codexdup {
    padding-bottom: 0px;
    border-bottom-width: 0px;
    margin-bottom: 0px;
    padding-top: 0px;
    border-top-width: 0px;
    margin-top: 0px;}

/* Anchor display */

a[href].sbookextlink, a[href].sbextref, a[href].extlink, a[href].extref {
    text-decoration: underline;}

.wikicon { float: right; }
a[href].wikicon, a[href].wikiref.wikicon {
    display: inline-block;
    color: transparent; overflow: hidden; text-decoration: none;
    max-height: 1.5em; max-width: 1.5em; height: 1.5em; width: 1.5em; 
    padding: 1px; border: solid transparent 1px;
    background-image: url(g/sbooks/wikipedia.svgz);
    background-position: center; background-repeat: no-repeat;
    background-size: contain;}
html._NOSVG a[href].wikicon, html._NOSVG a[href].wikiref.wikicon {
    background-image: url(g/sbooks/wikipedia128w.png);}
a[href].wikicon:hover, body._MOUSE a[href].wikicon:hover {
    color: transparent; text-deocration: none;}
body._MOUSE a[href].wikicon:hover,
body._MOUSE a[href].wikicon.tapholding {
    background-color: rgba(0,0,255,0.2);
    border-color: blue;}

a[href].wikiref, a[href].sbwikiref {
    white-space: nowrap; padding-right: 1em;
    background-image: url(g/sbooks/wikipedia.svgz);
    background-position: bottom right; background-repeat: no-repeat;
    background-size: 1em;}
html._NOSVG a[href].wikiref, html._NOSVG a[href].sbwikiref {
    background-image: url(g/sbooks/wikipedia64w.png);}

div.metabooknotebody { margin-left: 3em;}
div.metabooknotebody a.mbackref { float: left; margin-left: -3em;}

/* Custom media rules */

/* Phone */
@media only screen and
            (min-width: 320px) and
            (max-width: 480px) {
    #CODEXPAGE {top: 40px; bottom: 40px; left: 15px; right: 15px;}}
/* Tablet */
@media only screen and
            (min-width: 480px) and
            (max-width: 800px) {
    #CODEXPAGE {top: 40px; bottom: 50px; left: 25px; right: 25px;}
}
@media only screen and
            (min-width: 800px) and
            (max-width: 1024px) and
            (orientation: portrait) {
    #CODEXPAGE {top: 50px; bottom: 50px; left: 40px; right: 40px;}
}
@media only screen and
            (min-width: 768px) and
            (max-width: 1024px) and
            (orientation: landscape) {
    #CODEXPAGE {top: 40px; bottom: 50px; left: 50px; right: 50px;}}

/* Handheld media rules */

@media handheld and (orientation: landscape) {
    #METABOOKFOOT #METABOOKPAGEBAR {
        margin-left: 0px; margin-right: 0px;}}

@media (lightlevel: dim OR lightlevel: washed) {
    #METABOOKBODY { background-color: #ffffff; color: #111; }
    #METABOOKBODY.metabookcontrasthigh {
        background-color: #ffffff; color: #111; }
    #METABOOKBODY.metabookcontrastmedium {
        background-color: #ffffff; color: #444; }
    #METABOOKBODY.metabookcontrastlow  {
        background-color: #e5e0d4; color: #333; }}

@media (lightlevel: bright) {
    #METABOOKBODY { background-color: #ffffff; color: #444; }
    #METABOOKBODY.metabookcontrasthigh {
        background-color: #ffffff; color: #111; }
    #METABOOKBODY.metabookcontrastmedium {
        background-color: #ffffff; color: #444; }
    #METABOOKBODY.metabookcontrastlow  {
        background-color: #e5e0d4; color: #333; }}

/* Emacs local variables
;;;  Local variables: ***
;;;  compile-command: "cd ../..; make" ***
;;;  indent-tabs-mode: nil ***
;;;  End: ***
*/

