/* -*- Mode: CSS; character-encoding: utf-8; -*- */

/* Copyright (C) 2009-2015 beingmeta, inc.
   This file implements a Javascript/DHTML web application for reading
    large structured documents (sBooks).

   For more information on sbooks, visit www.sbooks.net
   For more information on knodules, visit www.knodules.net
   For more information about beingmeta, visit www.beingmeta.com

   This library uses the FDJT (www.fdjt.org) toolkit.

   This program comes with absolutely NO WARRANTY, including implied
   warranties of merchantability or fitness for any particular
   purpose.

    Use and redistribution (especially embedding in other
      CC licensed content) is permitted under the terms of the
      Creative Commons "Attribution-NonCommercial" license:

          http://creativecommons.org/licenses/by-nc/3.0/ 

    Other uses may be allowed based on prior agreement with
      beingmeta, inc.  Inquiries can be addressed to:

       licensing@biz.beingmeta.com

   Enjoy!

*/

@charset "UTF-8";

#METABOOKCOVER {font-size: 2em;}

#METABOOKCOVER div, #METABOOKCOVER form, #METABOOKCOVER img {
    box-sizing: border-box; -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;}

#METABOOKCOVERPAGE, #METABOOKTITLEPAGE, #METABOOKBLURB,
#METABOOKSETTINGS, #METABOOKCONSOLE, #METABOOKAPPHELP {
    display: none;}

#METABOOKSPLASHPAGE {
    postion: fixed; width: 100%; height: 100%;
    top: 0px; bottom: 0px; left: 0px; right: 0px;
    background-color: black; color: ivory;
    text-align: center;
    opacity: 1.0;}
#METABOOKSPLASHPAGE {
    transition-property: opacity; transition-duration: 3s;
    -webkit-transition-property: -webkit-opacity; -webkit-transition-duration: 3s;
    -moz-transition-property: -moz-opacity; -moz-transition-duration: 3s;
    -o-transition-property: opacity; -o-transition-duration: 3s;}
#METABOOKSPLASHPAGE.startupdone { display: none; }

body.mbREADY #METABOOKSPLASHPAGE {
    opacity: 0.0; pointer-events: none;}

body.mbSTARTUP #METABOOKCOVER, body._WORKING #METABOOKCOVER,
body.mbLAYOUT #METABOOKCOVER {
    pointer: progress;}

body.hudup #METABOOKHUD, #METABOOKHUD.openhead, #METABOOKHUD.openheart,
#METABOOKHUD.openglossmark, body.mbSHOWHELP #METABOOKHUD {
    z-index: 100; }

#METABOOKCOVER .fdjtfontwrapper {
    backface-visibility: hidden;
    perspective: 1000;
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    -webkit-perspective: 1000;
    -webkit-transform: translateZ(0);}

#METABOOKCOVER > div {
    position: absolute;
    top: 75px; bottom: 125px; left: 50px; right: 50px; 
    height: auto; width: auto; overflow: hidden;
    z-index: -50; opacity: 0.0;
    border-radius: 1em; -webkit-border-radius: 1em;
    -moz-border-radius: 1em; -o-border-radius: 1em;
    border: solid black 3px; 
    display: none;}
#METABOOKCOVER > div.controls {
    border-radius: 0px; -webkit-border-radius: 0px;
    -moz-border-radius: 0px; -o-border-radius: 0px;}
#METABOOKCOVER > div.scrolling {
    overflow-y: auto;}
#METABOOKFRAME._ANIMATE #METABOOKCOVER > div {
    transition-property: opacity; transition-duration: 1s;
    -webkit-transition-property: opacity; -webkit-transition-duration: 1s;
    -moz-transition-property: opacity; -moz-transition-duration: 1s;
    -o-transition-property: opacity; -o-transition-duration: 1s;}

#METABOOKCOVER > div > div.fdjtadjusted {
    height: 100%; width: 100%;}

#METABOOKCOVER >  #METABOOKCOVERMESSAGE {
    position: absolute; white-space: nowrap;
    font-style: italic; font-size: 24px; font-size: 2rem;
    width: 80%; left: 10%; right: 10%; border: 0px; 
    top: 0px; bottom: auto;
    text-align: center; overflow: visible; 
    background-color: black; color: silver;
    cursor: pointer; display: block; opacity: 1.0;
    z-index: 50;}

#METABOOKCOVERCONTROLS {
    white-space: nowrap;
    font-size: 20px; font-size: 1.5rem; font-size: 3vw;}

#METABOOKCOVER > #METABOOKCOVERCONTROLS {
    box-sizing: border-box; -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box; 
    position: absolute; height: 60px; bottom: 40px; top: auto;
    width: 100%; left: 0px; right: 0px; border-width: 0px;
    padding-left: 1em; padding-right: 1em; line-height: 1.1;
    opacity: 1; overflow: hidden; z-index: 50; 
    display: block;}
#METABOOKCOVERCONTROLS > .control > img,
#METABOOKCOVERCONTROLS .control > img {
    width: 90%; height: auto; clear: both;}
#METABOOKCOVERCONTROLS span.control {
    color: silver; white-space: nowrap;
    padding-left: 0.5ex; padding-right: 0.5ex; padding-bottom: 0.5ex;
    outline-width: 0px;
    cursor: pointer;}
body._MOUSE #METABOOKCOVERCONTROLS span.control:hover,
#METABOOKCOVERCONTROLS span.control:focus {
    text-decoration: underline;}

#METABOOKCOVER > div.loginbox, #METABOOKCOVER > div.userbox {
    position: absolute; vertical-align: top;
    box-sizing: border-box; -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box; 
    bottom: 0px !important; top: auto !important; left: 0px; right: 0px; 
    z-index: 50; color: gold; overflow: hidden;
    border-top: solid gold 1px; 
    opacity: 1.0;}
#METABOOKCOVER > div.loginbox {
    border-top: solid black 1px;
    padding-bottom: 2px;}
#METABOOKCOVER > div.userbox {
    padding-top: 0px;}

html._NOUSER #METABOOKCOVER > div {
    top: 65px; bottom: 150px; }
html._USER #METABOOKCOVER > div.userbox {
    height: 40px; padding-top: 1px; display: block;}
html._NOUSER #METABOOKCOVER > div.loginbox {
    height: 70px; display: block;}

#METABOOKCOVER div.loginmessage {
    height: 30px; text-align: center;
    background: gray;
    background: linear-gradient(to top,gray,black);
    background: -webkit-gradient(to top,gray,black);
    background: -moz-linear-gradient(top,gray,black);}
#METABOOKCOVER div.loginmessage span.sbooks em { color: cornflowerblue; }

#METABOOKCOVER div.loginbox form {
    height: 40px; text-align: right; vertical-align: top;
    padding-top: 3px; padding-bottom: 3px; 
    padding-left: 0.5ex; padding-right: 0.5ex;
    border-top: solid 1px gold;}
#METABOOKCOVER div.loginbox form input,
#METABOOKCOVER div.loginbox form button,
#METABOOKCOVER div.loginbox form select {
    vertical-align: top; margin-top: 0px;}

#METABOOKCOVER div.loginbox form input[NAME="LOGIN"] {
    max-width: 50%; float: left;} 
#METABOOKCOVER div.loginbox form select {display: none;}

html._NOUSER #METABOOKCOVER > #METABOOKCOVERCONTROLS {
    bottom: 70px;}

#METABOOKCOVER div.loginbox {
    white-space: nowrap;
    margin: 0px; padding: 0px;
    height: 0px;}
#METABOOKCOVER div.loginbox button { padding: 1px;}
#METABOOKCOVER div.loginbox button > img { height: 100%; width: auto;}
div.loginbox form > button, div.loginbox form > input[TYPE="TEXT"],
div.loginbox form > span, div.loginbox form > select {
    height: 1.5em; vertical-align: top;}

#METABOOKCOVER > div.userbox {
    background-color: black; color: gold;
    text-align: center;}
#METABOOKCOVER div.userbox a:link,
#METABOOKCOVER div.userbox a:active,
#METABOOKCOVER div.userbox a:hover,
#METABOOKCOVER div.userbox a:visited,
#METABOOKCOVER div.userbox a {
    color: silver; background-color: transparent;}
#METABOOKCOVER div.userbox a.sbookslogo em { color: cornflowerblue; }
#METABOOKCOVER div.userbox span.sbooks em { color: silver;}
#METABOOKCOVER div.userbox a.sbooks em { color: steelblue;}
html._USER #METABOOKCOVER div.userbox {
    height: 40px;}

#METABOOKCOVER div.userbox a.sbookslogo { display: none;}

#METABOOKCOVER.coverpage > div#METABOOKCOVERPAGE,
#METABOOKCOVER.bookcover > div#METABOOKCOVERPAGE,
#METABOOKCOVER.titlepage > div#METABOOKTITLEPAGE,
#METABOOKCOVER.titlepage > div#METABOOKTITLEPAGEHOLDER,
#METABOOKCOVER.bookcredits > div#METABOOKBOOKCREDITS,
#METABOOKCOVER.bookcredits > div#METABOOKBOOKCREDITSHOLDER,
#METABOOKCOVER.blurb > div#METABOOKBLURB,
#METABOOKCOVER.aboutbook > div#METABOOKABOUTBOOKHOLDER,
#METABOOKCOVER.help > div#METABOOKAPPHELP,
#METABOOKCOVER.aboutsbooks > div#METABOOKABOUTSBOOKS,
#METABOOKCOVER.console > div#METABOOKCONSOLE,
#METABOOKCOVER.settings > div#METABOOKSETTINGS, 
#METABOOKCOVER.layers > div#METABOOKLAYERS,
#METABOOKCOVER.bookcover > div#METABOOKCOVERPAGE, /* Legacy */
#METABOOKCOVER.bookcover > div#METABOOKBOOKCOVER,
#METABOOKCOVER.aboutbook > div#METABOOKBLURB,
#METABOOKCOVER.aboutbook > div#METABOOKABOUTBOOK {
    opacity: 1.0; z-index: 20; display: block;}

#METABOOKCOVER.bookcover .control[data-mode='coverpage'],
#METABOOKCOVER.coverpage .control[data-mode='coverpage'],
#METABOOKCOVER.titlepage .control[data-mode='titlepage'],
#METABOOKCOVER.layers .control[data-mode='layers'],
#METABOOKCOVER.aboutbook .control[data-mode='aboutbook'],
#METABOOKCOVER.settings .control[data-mode='settings'],
#METABOOKCOVER.help .control[data-mode='help'],
#METABOOKCOVER.console .control[data-mode='console'],
#METABOOKCOVER.login .control[data-mode='login'] {
    outline-color: transparent; outline-width: 0px;
    display: inline;
    color: gold;}

.control[data-mode='console'], .control[data-mode='aboutsbooks'],
.control[data-mode='aboutbook'] {
    display: none;}
html._SHOWCONSOLE span.control[data-mode='console'] { display: inline;}
html._NOUSER span.control[data-mode='layers'] { display: none;}
span.control[data-mode='layers'] .whenloggedin { display: none;}
html._USER span.control[data-mode='layers'] .whenloggedin {
    display: inline;}
html._USER span.control[data-mode='layers'] .notloggedin {
    display: none;}
html._USER._CONN .control[data-mode='login'] { display: none;}

#METABOOKCOVERCONTROLS.nobookcover .control[data-mode='bookcover'],
#METABOOKCOVERCONTROLS.nocoverpage .control[data-mode='coverpage'],
#METABOOKCOVERCONTROLS.noblurb .control[data-mode='blurb'],
#METABOOKCOVERCONTROLS.nocredits .control[data-mode='creditspage'] {
    display: none;}

#METABOOKTITLEPAGE, #METABOOKABOUTBOOK, #METABOOKBOOKCREDITS,
#METABOOKABOUTSBOOKS, #METABOOKBLURB, #METABOOKAPPHELP {
    padding-top: 1ex; padding-bottom: 1ex;
    margin-left: auto; margin-right: auto;
    background-color: ivory;}
#METABOOKABOUTBOOK, #METABOOKAPPHELP, #METABOOKABOUTSBOOKS,
#METABOOKBOOKCREDITS, #METABOOKBLURB {
    padding-left: 2em; padding-right: 2em; text-align: left;
    -webkit-overflow-scrolling: touch;
    overflow: auto;}

/* The sBooks app for managing layers */

#METABOOKCOVER > div#METABOOKLAYERS {
    border-top-left-radius: 0px; border-top-right-radius: 0px;
    -webkit-border-top-left-radius: 0px; -webkit-border-top-right-radius: 0px;
    -moz-border-left-top-radius: 0px; -webkit-border-right-top-radius: 0px;
    border-bottom-left-radius: 1.5em; border-bottom-right-radius: 1.5em;
    -webkit-border-bottom-left-radius: 1.5em; -webkit-border-bottom-right-radius: 1.5em;
    -moz-border-left-bottom-radius: 1.5em; -webkit-border-right-bottom-radius: 1.5em;}

#METABOOKCOVER > #METABOOKLAYERS iframe#SBOOKSAPP {
    height: 100%; width: 100%; margin: 0px; padding: 0px;
    background-color: ivory;}

/* The book cover */

#METABOOKCOVERPAGE img {
    max-width: 95%; height: 95%; width: auto;}

/* Help */

#METABOOKAPPHELP {
    background-color: ivory;
    padding-left: 1.5em; padding-left: 3vw;
    padding-right: 1.5em; padding-right: 3vw;}

#METABOOKBLURB, #ABOUTSBOOKS {
    background-color: ivory;
    font-size: 80%;}
#METABOOKCONSOLE, #METABOOKSETTINGS {
    background-color: ivory;
    -webkit-overflow-scrolling: touch;
    overflow: auto;}
#METABOOKBLURB h1, #ABOUTSBOOKS h1, #METABOOKBLURB h2, #ABOUTSBOOKS h2 {
    text-align: left;
    font-size: 120%;}
#METABOOKBLURB > div {
    max-width: 40em; margin-left: auto; margin-right: auto;}
#METABOOKBLURB p .floatright, #ABOUTSBOOKS p .floatright {
    max-width: 30%; float: right;}
#METABOOKBLURB p .floatright img, #ABOUTSBOOKS p .floatright img {
    max-width: 100%; height: auto; }
html._SHOWCONSOLE .control[alt='Console'] {display: none;}

/* Title page */

#METABOOKTITLEPAGE { display: none; }
#METABOOKCOVER #METABOOKTITLEPAGE {
    padding: 16px; padding: 4vh;
    overflow: hidden;}

.metabooktitlepage { text-align: center;}
.metabookbibpage { text-align: left;}

#METABOOKSETTINGS {
    padding: 2%; 
    padding-top: 3px; padding-bottom: 1em;
    font-size: 80%;}

/* The Console */

#METABOOKCONSOLE { font-size: 70%;}

#METABOOKCONSOLE h1 {
    font-size: 1.5em; text-align: center;
    margin-top: 4px; margin-bottom: 1em;}
#METABOOKCONSOLE #METABOOKCONSOLELOG { }
#METABOOKCONSOLE div.fdjtlog {
    margin-left: 0.5em; border-top: solid black 1px;}
#METABOOKCONSOLE div.message {
    text-align: center; font-size: 150%;}

#METABOOKCONSOLE #METABOOKCONSOLEINPUT {
    margin-left: 4em; padding-top: 1em;}
#METABOOKCONSOLE #METABOOKCONSOLEINPUT span.button {
    font-weight: bold; font-size: 200%;
    padding: 0.5ex; border-radius: 0.5ex; padding-top: 0px;
    margin: 0px; margin-top: 0.25ex; margin-right: 0.25ex;
    background-color: silver;
    float: right;}
#METABOOKCONSOLE #METABOOKCONSOLEINPUT textarea { width: 90%;}
html._TOUCH #METABOOKCONSOLE #METABOOKCONSOLEINPUT.uptop {
    position: absolute;
    top: 5px; left: 10%; right: 10%; width: 90%;
    margin-left: 0px; padding-top: 0px;}
html._TOUCH #METABOOKCONSOLELOG {
    /* This make it always scrollable on touch devices,
       in case interesting content is underneath the
       soft keyboard. */
    padding-bottom: 100%;}

/* The cover message */

#METABOOKCOVERMESSAGE {
    text-align: center;}
#METABOOKCOVER > .sbookslogo, #METABOOKCOVER > .publisherlogo {
    position: absolute; top: 0px; z-index: 200;
    color: silver; font-size: 2em;
    display: none; }
#METABOOKCOVER > .sbookslogo {left: 0px;}
#METABOOKCOVER > .publisherlogo {right: 0px;}

#METABOOKCOVER > .sbookslogo em {color: steelblue;}

div#METABOOKOPENTAB {
    white-space: nowrap;
    box-sizing: border-box; -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box; -o-box-sizing: border-box;
    width: 5em; font-size: 45px; line-height: 1.0; height: 50px;
    font-style: normal;
    margin: 0px; margin-left: auto; margin-right: auto;
    padding:  0px 1em 0px 1em; 
    border: solid transparent 2px; border-top: 0px;
    background-color: gray; color: white;
    font-variant: small-caps; font-weight: bold;
    border-bottom-left-radius: 1ex; border-bottom-right-radius: 1ex;
    cursor: pointer;}
body.mbSTARTUP div#METABOOKOPENTAB { display: none; }
body._MOUSE #METABOOKOPENTAB:hover, #METABOOKOPENTAB.tapholdtarget {
    border-color: blue; border-style: dotted;}
#METABOOKCOVERMESSAGE > div#METABOOKOPENTAB {
    width: 7em; color: white;}
html._TOUCH #METABOOKCOVERMESSAGE > div#METABOOKOPENTAB {
    font-size: 36px; height: 40px;}
html._TOUCH #METABOOKCOVERMESSAGE > div#METABOOKOPENTAB {
    width: 5em; }

body.mbREADY #METABOOKCOVERMESSAGE > #METABOOKOPENTAB {
    display: block;}
body.mbLAYOUT #METABOOKCOVERMESSAGE > #METABOOKOPENTAB,
body.mbSTARTUP #METABOOKCOVERMESSAGE > #METABOOKOPENTAB,
body.mbBUSY #METABOOKCOVERMESSAGE > #METABOOKOPENTAB {
    display: none;}

#METABOOKCOVERMESSAGE > div {
    color: silver; display: none;
    padding-left: 0px; padding-right: 0px;
    padding-top: 0px;
    box-sizing: border-box;
    width: 100%;}
#METABOOKCOVERMESSAGE > #METABOOKREADYMESSAGE {
    display: inline-block;
    box-sizing: border-box; -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    margin-top: 0.2ex; width: 7em;
    margin-left: auto; margin-right: auto;
    padding:  0px 1em 0px 1em; border: solid transparent 4px;
    background-color: gray; color: white;
    font-size: 36px; font-variant: small-caps; font-weight: bold;
    border-radius: 1ex; }
body.mbLAYOUT #METABOOKCOVERMESSAGE > #METABOOKLAYOUTMESSAGE,
body #METABOOKCOVERMESSAGE > #METABOOKREADYMESSAGE,
body.mbBUSY #METABOOKCOVERMESSAGE > #METABOOKBUSYMESSAGE {
    display: inline-block;}
body.mbLAYOUT #METABOOKCOVERMESSAGE > #METABOOKREADYMESSAGE,
body.mbBUSY #METABOOKCOVERMESSAGE > #METABOOKREADYMESSAGE {
    display: none;}
#METABOOKLAYOUTMESSAGE div.message {
    font-size: 24px; font-size: 4vw;}

#METABOOKREADYMESSAGE { padding-bottom: 1ex; }

#METABOOKCOVERMESSAGE > div > div.metabookprogressbox {
    width: 100%; border: solid silver 2px; border-top: 0px;}
#METABOOKCOVERMESSAGE div.indicator {
    height: 1ex; background-color: gold;}

/* Media specific rules */

@media screen and (max-width: 750px) {
    html._TOUCH #METABOOKSETTINGS table.settings {  font-size: 1.3em; }}

@media screen and (max-width: 640px) {
    div.fdjtprogress#METABOOKLAYOUTMESSAGE {
        left: 50px; right: 50px;}

    #METABOOKSETTINGS table.settings th {
        white-space: normal; font-size: 80%; max-width: 10ex;}

    #METABOOKCOVER div.userbox span.text {display: none;}
    #METABOOKCOVER div.userbox a.sbookslogo { float: left; display: inline-block;}
    #METABOOKCOVER div.userbox a.sbooks { display: none;}
    #METABOOKCOVER div.userbox a.metabookusername { float: right;}
}

/* Phone */
@media only screen and /* (min-width: 320px) and */
            (max-width: 480px) {
    #METABOOKCOVER > div { bottom: 120px; top: 50px; }
    html._NOUSER #METABOOKCOVER > div { bottom: 150px; }
    #METABOOKCOVERMESSAGE > div { font-size: 0.7em;}
    #METABOOKCOVERMESSAGE > div#METABOOKOPENTAB {
        font-size: 30px; height: 40px;}
    #METABOOKCOVERMESSAGE > div#METABOOKREADYMESSAGE { font-size: 30px;}

    #METABOOKCOVER > div { left: 10px; right: 10px;}

    html._TOUCH #METABOOKSETTINGS {  font-size: 0.9em; }
    html._TOUCH #METABOOKSETTINGS table.settings {  font-size: 1em; }
    
    #METABOOKCOVER > #METABOOKCOVERCONTROLS {
        height: 80px; white-space: normal; }

    #METABOOKCOVER div.loginbox {font-size: 1em;}

    #METABOOKSETTINGS {
        padding: 1ex;
        padding-top: 2px;
        padding-left: 2px;
        padding-right: 2px;}
    #METABOOKSETTINGS h1 {
        font-size: 1.5em;
        margin-right: 1ex;
        margin-left: 1ex;}
}

@media (pointer: coarse) {
    #METABOOKSETTINGS h1 .button { font-size: 80%;}}
@media screen and (max-width: 650px) {
    #METABOOKCOVER div.loginbox form button { display: none;}
    #METABOOKCOVER div.loginbox form > span { display: none;}
    #METABOOKCOVER div.loginbox form select {
        position: absolute; right: 0px;
        width: 48%; font-size: 16px; font-size: 1rem;
        display: inline-block;}
    #METABOOKCOVER div.loginbox form input[TYPE="TEXT"] {
        position: absolute; left: 0px;
        width: 48%; font-size: 16px; font-size: 1rem;
        display: inline-block;}
    #METABOOKCOVER div.loginbox form input[TYPE="TEXT"]:focus {
        width: 100%; max-width: 100%; z-index: 100;}}

/* Emacs local variables
;;;  Local variables: ***
;;;  compile-command: "cd ../..; make" ***
;;;  indent-tabs-mode: nil ***
;;;  End: ***
*/

