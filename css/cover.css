/* -*- Mode: CSS; character-encoding: utf-8; -*- */

/* Copyright (C) 2009-2014 beingmeta, inc.
   This file implements a Javascript/DHTML web application for reading
    large structured documents (sBooks).

   For more information on sbooks, visit www.sbooks.net
   For more information on knodules, visit www.knodules.net
   For more information about beingmeta, visit www.beingmeta.com

   This library uses the FDJT (www.fdjt.org) toolkit.

   This program comes with absolutely NO WARRANTY, including implied
   warranties of merchantability or fitness for any particular
   purpose.

    Use and redistribution (especially embedding in other
      CC licensed content) is permitted under the terms of the
      Creative Commons "Attribution-NonCommercial" license:

          http://creativecommons.org/licenses/by-nc/3.0/ 

    Other uses may be allowed based on prior agreement with
      beingmeta, inc.  Inquiries can be addressed to:

       licensing@biz.beingmeta.com

   Enjoy!

*/

@charset "UTF-8";

#METABOOKCOVER {font-size: 2em;}

body.mbSTARTUP #METABOOKCOVER, body._WORKING #METABOOKCOVER,
body.mbLAYOUT #METABOOKCOVER {
    pointer: progress;}

body.hudup #METABOOKHUD, #METABOOKHUD.openhead, #METABOOKHUD.openheart,
#METABOOKHUD.openglossmark, body.mbSHOWHELP #METABOOKHUD {
    z-index: 100; }

#METABOOKCOVER .fdjtfontwrapper {
    transition-property: font-size; transition-duration: 4s;
    -webkit-transition-property: font-size; -webkit-transition-duration: 4s;
    -moz-transition-property: font-size; -webkit-moz-duration: 4s;
    -o-transition-property: font-size; -o-moz-duration: 4s;}
#METABOOKCOVER .fdjtfontwrapper {
    backface-visibility: hidden;
    perspective: 1000;
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    -webkit-perspective: 1000;
    -webkit-transform: translateZ(0);}

#METABOOKCOVER > div {
    position: absolute;
    top: 75px; left: 50px; right: 50px;
    bottom: 100px; height: auto; width: auto;
    border: solid black 3px; /* border-radius: 1ex; */
    opacity: 0.0; overflow: auto; z-index: -50;
    display: none;}
#METABOOKFRAME._ANIMATE #METABOOKCOVER > div {
    transition-property: opacity; transition-duration: 1s;
    -webkit-transition-property: opacity; -webkit-transition-duration: 1s;
    -moz-transition-property: opacity; -moz-transition-duration: 1s;
    -o-transition-property: opacity; -o-transition-duration: 1s;}

#METABOOKCOVER > div > div.fdjtadjusted {
    height: 100%; width: 100%;}

#METABOOKCOVER >  #METABOOKCOVERMESSAGE {
    position: absolute; white-space: nowrap;
    font-style: italic; font-size: 30px;
    width: 80%; left: 10%; right: 10%; border: 0px; 
    top: 0px; bottom: auto;
    text-align: center; overflow: visible; 
    background-color: black; color: silver;
    cursor: pointer; display: block; opacity: 1.0;
    z-index: 50;}

#METABOOKCOVER > #METABOOKCOVERCONTROLS {
    box-sizing: border-box; -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box; 
    position: absolute; height: 60px; bottom: 40px; top: auto;
    width: 94%; left: 3%; right: 3%;
    font-size: 1em; font-size: 1.5rem; font-size: 4vw;
    padding-left: 1ex; padding-right: 1ex; line-height: 1.1;
    opacity: 1; overflow: hidden; display: block;}
#METABOOKCOVERCONTROLS > .username {
    float: left; vertical-align: top;}
#METABOOKCOVERCONTROLS > .control > img,
#METABOOKCOVERCONTROLS .control > img {
    width: 90%; height: auto; clear: both;}

#METABOOKCOVERCONTROLS span.control {
    color: silver; white-space: nowrap;
    padding-left: 0.5ex; padding-right: 0.5ex; padding-bottom: 0.5ex;
    cursor: pointer;}

body._MOUSE #METABOOKCOVERCONTROLS span.control:hover {
    text-decoration: underline;}

#METABOOKFRAME._ANIMATE #METABOOKCOVER div.loginbox,
#METABOOKFRAME._ANIMATE #METABOOKCOVER div.userbox { 
    transition-property: height; transition-duration: 2s;
    -webkit-transition-property: height; -webkit-transition-duration: 2s;
    -moz-transition-property: height; -moz-transition-duration: 2s;
    -o-transition-property: height; -o-transition-duration: 2s;}
#METABOOKCOVER div.loginbox, #METABOOKCOVER div.userbox {
    position: absolute; left: 0px; right: 0px; bottom: 0px; top: auto;
    z-index: 50; color: gold; overflow: hidden;
    border-top: solid gold 1px; padding-top: 1px;
    opacity: 1.0;}
#METABOOKCOVER #METABOOKCOVERCONTROLS div.userbox,
#METABOOKCOVER #METABOOKCOVERCONTROLS div.loginbox {
    bottom: -40px;}

body._NOUSER #METABOOKCOVER div.loginbox,
body._USER #METABOOKCOVER div.userbox {
    display: block; height: initial;
    vertical-align: top;
    color: gold;}

#METABOOKCOVER div.loginbox {
    white-space: nowrap;
    margin: 0px; padding: 0px;
    height: 0px; overflow: auto;}
#METABOOKCOVER div.loginbox button { padding: 1px;}
#METABOOKCOVER div.loginbox button > img { height: 1.5em; width: auto;}
div.loginbox form > button, div.loginbox form > input[TYPE="TEXT"],
div.loginbox form > span {
    vertical-align: top;}

#METABOOKCOVER > div.userbox {
    background-color: black; color: gold;
    text-align: center;}
#METABOOKCOVER div.userbox a, #METABOOKCOVER div.userbox a:visited {
    color: silver;}
#METABOOKCOVER div.userbox a.sbookslogo em { color: cornflowerblue; }
#METABOOKCOVER div.userbox span.sbooks em { color: silver;}
#METABOOKCOVER div.userbox a.sbooks em { color: steelblue;}
body._USER #METABOOKCOVER div.userbox {
    height: 40px;}

#METABOOKCOVER div.userbox a.sbookslogo { display: none;}

#METABOOKCOVER.bookcover > #METABOOKBOOKCOVER,
#METABOOKCOVER.bookcover > #METABOOKBOOKCOVERHOLDER,
#METABOOKCOVER.titlepage > #METABOOKTITLEPAGE,
#METABOOKCOVER.titlepage > #METABOOKTITLEPAGEHOLDER,
#METABOOKCOVER.bookcredits > #METABOOKBOOKCREDITS,
#METABOOKCOVER.bookcredits > #METABOOKBOOKCREDITSHOLDER,
#METABOOKCOVER.aboutbook > #METABOOKABOUTBOOK,
#METABOOKCOVER.aboutbook > #METABOOKABOUTBOOKHOLDER,
#METABOOKCOVER.help > #METABOOKAPPHELP,
#METABOOKCOVER.aboutsbooks > #METABOOKABOUTSBOOKS,
#METABOOKCOVER.console > #METABOOKCONSOLE,
#METABOOKCOVER.settings > #METABOOKSETTINGS, 
#METABOOKCOVER.layers > #METABOOKLAYERS {
    opacity: 1.0; z-index: 20; display: block;}

#METABOOKCOVER.bookcover .control[data-mode='bookcover'],
#METABOOKCOVER.titlepage .control[data-mode='titlepage'],
#METABOOKCOVER.layers .control[data-mode='layers'],
#METABOOKCOVER.aboutbook .control[data-mode='aboutbook'],
#METABOOKCOVER.settings .control[data-mode='settings'],
#METABOOKCOVER.help .control[data-mode='help'],
#METABOOKCOVER.console .control[data-mode='console'],
#METABOOKCOVER.login .control[data-mode='login'] {
    outline-color: transparent;
    display: inline;
    color: gold;}

.control[data-mode='console'], .control[data-mode='aboutsbooks'],
.control[data-mode='creditspage'], .control[data-mode='aboutbook'] {
    display: none;}
body._SHOWCONSOLE span.control[data-mode='console'] { display: inline;}
span.control[data-mode='layers'] .whenloggedin { display: none;}
body._USER span.control[data-mode='layers'] .whenloggedin {
    display: inline;}
body._USER span.control[data-mode='layers'] .notloggedin {
    display: none;}
body._USER._CONN .control[data-mode='login'] { display: none;}

#METABOOKCOVERCONTROLS.nobookcover .control[data-mode='bookcover'] {
    display: none;}

#METABOOKCOVERCONTROLS.havecreditspage .control[data-mode='creditspage'] {
    display: inline;}
#METABOOKCOVERCONTROLS.haveaboutpage .control[data-mode='aboutbook'] {
    display: inline;}

#METABOOKTITLEPAGE, #METABOOKABOUTBOOK, #METABOOKBOOKCREDITS,
#METABOOKABOUTSBOOKS, #METABOOKAPPHELP {
    padding-top: 1ex; padding-bottom: 1ex;
    margin-left: auto; margin-right: auto;
    background-color: ivory;}
#METABOOKABOUTBOOK, #METABOOKAPPHELP, #METABOOKABOUTSBOOKS,
#METABOOKBOOKCREDITS {
    padding-left: 2em; padding-right: 2em; text-align: left;
    -webkit-overflow-scrolling: touch;
    overflow: auto;}

/* The sBooks app for managing layers */

#METABOOKCOVER > #METABOOKLAYERS iframe#SBOOKSAPP {
    height: 100%; width: 100%; margin: 0px; padding: 0px;
    background-color: ivory;}

/* The book cover */

#METABOOKBOOKCOVER img {
    max-width: 95%; height: 95%; width: auto;}

/* Help */

#METABOOKAPPHELP {
    background-color: ivory;
    padding-left: 1.5em; padding-left: 3vw;
    padding-right: 1.5em; padding-right: 3vw;}

#METABOOKABOUTBOOK, #ABOUTSBOOKS {
    background-color: ivory;
    font-size: 80%;}
#METABOOKCONSOLE, #METABOOKSETTINGS {
    background-color: ivory;
    -webkit-overflow-scrolling: touch;
    overflow: auto;}
#METABOOKABOUTBOOK h1, #ABOUTSBOOKS h1 {
    font-size: 120%;}
#METABOOKABOUTBOOK p .floatright, #ABOUTSBOOKS p .floatright {
    max-width: 30%; float: right;}
#METABOOKABOUTBOOK p .floatright img, #ABOUTSBOOKS p .floatright img {
    max-width: 100%; height: auto; }
body._SHOWCONSOLE .control[alt='Console'] {display: none;}

/* Title page */

#METABOOKTITLEPAGE { display: none; }
#METABOOKCOVER #METABOOKTITLEPAGE {
    padding: 16px; padding: 4vh;
    overflow: hidden;}

.metabooktitlepage { text-align: center;}
.metabookbibpage { text-align: left;}

/* Settings */

#METABOOKSETTINGS {
    padding: 2%; padding-top: 1ex; padding-bottom: 4em;
    font-size: 80%;}
#METABOOKSETTINGS form {
    max-width: 50em; margin-left: auto; margin-right: auto;}

#METABOOKSETTINGS h1 { margin-top: 0px; text-align: left;}
#METABOOKSETTINGS h1 a.logout {
    float: right; color: red; text-decoration: none;
    font-size: 60%; font-variant: small-caps;}
#METABOOKSETTINGS h1 a.logout:visited {color: red;}
#METABOOKSETTINGS span.message {
    float: right; clear: right; font-size: 40%;}
#METABOOKSETTINGS .metabooksettingschanged {
    color: red; display: none;}
#METABOOKSETTINGS.changed .metabooksettingschanged { display: block;}

body._NOUSER #METABOOKSETTINGS h1 a.logout {display:none;}

#METABOOKSETTINGS div.setting {
    clear: both; padding: 3px; margin-bottom: 5px; min-height: 20px;}
#METABOOKSETTINGS div.setting span.checkspan {
    font-size: 125%; color: orange;}
#METABOOKSETTINGS div.setting span.checkspan input[type='CHECKBOX'] {
    width: 16px; height: 16px; color: orange; background-color: orange;
    vertical-align: bottom;}
#METABOOKSETTINGS div.setting div.explanation { 
    font-style: italic; clear: both; margin-left: 3em;}
#METABOOKSETTINGS table.settings {
    width: 98%; margin-left: auto; margin-right: auto; vertical-align: top;}
#METABOOKSETTINGS table.settings .metabookhighlightsetting {
    font-size: 120%; background-color: yellow;}
#METABOOKSETTINGS table.settings tbody { margin-bottom: 1ex;}
#METABOOKSETTINGS table.settings th {
    text-align: right; vertical-align: top;
    white-space: nowrap;}
#METABOOKSETTINGS table.settings td {
    text-align: left; vertical-align: top; padding-left: 12px;}
#METABOOKSETTINGS table.settings td button { float: right; margin-bottom: 3px;}
#METABOOKSETTINGS table.settings td input[type='TEXT'] {
    width: 100%;}
#METABOOKSETTINGS table.settings tr.buttons td {
    text-align: right;}
#METABOOKSETTINGS table.settings th.buttons button {
    min-width: 6em; text-align: right;}
#METABOOKSETTINGS table.settings th.buttons button img {
    height: 1em; width: auto; float: left;}

table.settings .checkspan.ischecked {
    font-weight: normal; color: rgb(0,61,111); font-size: 100%;}

#METABOOKSETTINGS table.settings .smallbutton {
    cursor: pointer;
    margin-left: 4px; margin-right: 4px; padding: 3px;
    background-color: gold; color: darkblue;
    font-size: 80%; font-weight: bold;
    border-radius: 4px;
    -o-border-radius: 4px; 
    -webkit-border-radius: 4px; 
    -moz-border-radius: 4px;}

#METABOOKSETTINGS .button {
    font-size: 125%; cursor: pointer;
    font-weight: bold;
    color: white; background-color: silver;
    margin-left: 6px; padding: 4px; border: solid black 2px;
    border-radius: 5px;
    -o-border-radius: 5px;
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;}
#METABOOKSETTINGS h1 .button {
    font-size: 50%; float: right;}
#METABOOKSETTINGS h1 .message {
    font-size: 50%; float: right; padding-top: 0.5ex;}
#METABOOKSETTINGS .button.exit {
    color: red; background-color: white;}
body._NOUSER #METABOOKSETTINGS h1 a.logout {display:none;}

#METABOOKSETTINGS tr.metabooklayoutsettings { display: none; }

table.settings td { padding-bottom: 0.5ex;}

table.settings td .checkspan {
    padding-right: 0.5ex;}
table.settings td .checkspan input[TYPE='CHECKBOX'],
table.settings td .checkspan input[TYPE='RADIO'] {
    margin-right: 0.5ex;}

table.settings tbody.bookinfo td { font-size: 60%; }
table.settings tbody.bookinfo p {
    margin-top: 0px; margin-bottom: 0.5ex;
    margin-left: 2em; text-indent: -2em;}
table.settings tbody.buttons { border-top: solid black 2px;}
table.settings tr.buttons td, table.settings tr.buttons th {
    padding-top: 1ex;}

/* The Console */

#METABOOKCONSOLE { font-size: 70%;}

#METABOOKCONSOLE h1 {
    font-size: 1.5em; text-align: center;
    margin-top: 4px; margin-bottom: 1em;}
#METABOOKCONSOLE #METABOOKCONSOLELOG { }
#METABOOKCONSOLE div.fdjtlog {
    margin-left: 0.5em; border-top: solid black 1px;}
#METABOOKCONSOLE div.message {
    text-align: center; font-size: 150%;}

#METABOOKCONSOLE #METABOOKCONSOLEINPUT {
    margin-left: 4em; padding-top: 1em;}
#METABOOKCONSOLE #METABOOKCONSOLEINPUT span.button {
    font-weight: bold; font-size: 200%;
    padding: 0.5ex; border-radius: 0.5ex; padding-top: 0px;
    margin: 0px; margin-top: 0.25ex; margin-right: 0.25ex;
    background-color: silver;
    float: right;}
#METABOOKCONSOLE #METABOOKCONSOLEINPUT textarea { width: 90%;}
body._TOUCH #METABOOKCONSOLE #METABOOKCONSOLEINPUT.uptop {
    position: absolute;
    top: 5px; left: 10%; right: 10%; width: 90%;
    margin-left: 0px; padding-top: 0px;}
body._TOUCH #METABOOKCONSOLELOG {
    /* This make it always scrollable on touch devices,
       in case interesting content is underneath the
       soft keyboard. */
    padding-bottom: 100%;}

/* The cover message */

#METABOOKCOVERMESSAGE {
    text-align: center;}
#METABOOKCOVER > .sbookslogo, #METABOOKCOVER > .publisherlogo {
    position: absolute; top: 0px; z-index: 200;
    color: silver; font-size: 2em;
    display: none; }
#METABOOKCOVER > .sbookslogo {left: 0px;}
#METABOOKCOVER > .publisherlogo {right: 0px;}

#METABOOKCOVER > .sbookslogo em {color: steelblue;}

div#METABOOKOPENTAB {
    white-space: nowrap;
    box-sizing: border-box; -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box; -o-box-sizing: border-box;
    width: 7em; font-size: 30px;
    margin: 0px; margin-left: auto; margin-right: auto;
    padding:  0px 1em 0px 1em; 
    border: solid transparent 2px; border-top: 0px;
    background-color: gray; color: white;
    font-variant: small-caps; font-weight: bold;
    border-bottom-left-radius: 1ex; border-bottom-right-radius: 1ex;
    cursor: pointer;}
body.mbSTARTUP div#METABOOKOPENTAB { display: none; }
body._MOUSE #METABOOKOPENTAB:hover, #METABOOKOPENTAB.tapholdtarget {
    border-color: blue; border-style: dotted;}
#METABOOKCOVERMESSAGE > div#METABOOKOPENTAB {
    width: 7em; color: white;}
body._TOUCH div#METABOOKOPENTAB { font-size: 36px;}
body._TOUCH #METABOOKCOVERMESSAGE > div#METABOOKOPENTAB {
    width: 5em; }

body.mbREADY #METABOOKCOVERMESSAGE > #METABOOKOPENTAB {
    display: block;}
body.mbLAYOUT #METABOOKCOVERMESSAGE > #METABOOKOPENTAB,
body.mbSTARTUP #METABOOKCOVERMESSAGE > #METABOOKOPENTAB,
body.mbBUSY #METABOOKCOVERMESSAGE > #METABOOKOPENTAB {
    display: none;}

#METABOOKCOVERMESSAGE > div {
    color: silver; display: none;
    padding-left: 1em; padding-right: 1em;
    padding-top: 0px;
    box-sizing: border-box;
    width: 100%;}
#METABOOKCOVERMESSAGE > #METABOOKREADYMESSAGE {
    display: inline-block;
    box-sizing: border-box; -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    margin-top: 0.2ex; width: 7em;
    margin-left: auto; margin-right: auto;
    padding:  0px 1em 0px 1em; border: solid transparent 4px;
    background-color: gray; color: white;
    font-size: 30px; font-variant: small-caps; font-weight: bold;
    border-radius: 1ex; }
body.mbLAYOUT #METABOOKCOVERMESSAGE > #METABOOKLAYOUTMESSAGE,
body #METABOOKCOVERMESSAGE > #METABOOKREADYMESSAGE,
body.mbBUSY #METABOOKCOVERMESSAGE > #METABOOKBUSYMESSAGE {
    display: inline-block;}
body.mbLAYOUT #METABOOKCOVERMESSAGE > #METABOOKREADYMESSAGE,
body.mbBUSY #METABOOKCOVERMESSAGE > #METABOOKREADYMESSAGE {
    display: none;}

#METABOOKREADYMESSAGE { padding-bottom: 1ex; }

#METABOOKCOVERMESSAGE > div > div.metabookprogressbox {
    width: 100%; border: solid silver 2px; border-top: 0px;}
#METABOOKCOVERMESSAGE div.indicator {
    height: 1ex; background-color: gold;}

/* Media specific rules */


@media screen and (max-width: 750px) {
    body._TOUCH #METABOOKSETTINGS table.settings {  font-size: 1.3em; }}

@media screen and (max-width: 640px) {
    div.fdjtprogress#METABOOKLAYOUTMESSAGE {
        left: 50px; right: 50px;}

    #METABOOKSETTINGS table.settings th {
        white-space: normal; font-size: 80%; max-width: 8ex;}
    #METABOOKSETTINGS .button, #METABOOKSETTINGS button {
        font-size: 85%;}

    #METABOOKCOVER div.userbox span.text {display: none;}
    #METABOOKCOVER div.userbox a.sbookslogo { float: left; display: inline-block;}
    #METABOOKCOVER div.userbox a.sbooks { display: none;}
    #METABOOKCOVER div.userbox a.metabookusername { float: right;}
}
@media screen and (max-width: 500px) {
    #METABOOKCOVER > div { bottom: 120px; }
    #METABOOKCOVERMESSAGE > div { font-size: 0.7em;}
    #METABOOKCOVERMESSAGE > div#METABOOKOPENTAB { font-size: 30px;}
    #METABOOKCOVERMESSAGE > div#METABOOKREADYMESSAGE { font-size: 30px;}

    #METABOOKCOVER > div { left: 10px; right: 10px;}

    body._TOUCH #METABOOKSETTINGS {  font-size: 0.9em; }
    body._TOUCH #METABOOKSETTINGS table.settings {  font-size: 1em; }
    
    #METABOOKCOVER > #METABOOKCOVERCONTROLS { height: 80px; }

    #METABOOKCOVER div.loginbox {font-size: 1em;}
    #METABOOKCOVER div.loginbox input[TYPE="TEXT"] { width: 7em; }
    #METABOOKCOVER div.loginbox button > img { height: 1em; }

    #METABOOKSETTINGS { padding: 1ex; }
    #METABOOKSETTINGS h1 { font-size: 1.5em;}
}

@media (pointer: coarse) {
    #METABOOKSETTINGS h1 .button { font-size: 80%;}}


/* Emacs local variables
;;;  Local variables: ***
;;;  compile-command: "cd ../..; make" ***
;;;  indent-tabs-mode: nil ***
;;;  End: ***
*/

